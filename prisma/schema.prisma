// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


// For Assistant User
model Assistant{
  id              Int    @id @default(autoincrement())

  name            String

  password        String

  email           String @unique()

  profileKey      String? @default("")

  profileURL      String? @default("")

  role            AssistantRole

  createdAt       DateTime @default(now())

  updatedAt       DateTime @updatedAt


  @@map("assistants")
}


enum AssistantRole {
  OfficeAssistant
  LabAssistant
  StudentCouncil
}

// For professor and normal user. Student
model User{
  id              Int    @id @default(autoincrement())
  
  name            String

  nickname        String @unique()

  password        String

  email           String @unique() 

  profileKey      String? @default("")

  profileURL      String? @default("")
  
  groupId         String @unique() // 학번
  
  role            UserRole       // Role

  status          Status   @default(Pending) // 회원 승인 여부

  enrolledIn      DateTime @default(now()) // Time user enrolled

  loginAt         DateTime @default(now()) // User last login date

  createdAt       DateTime @default(now())

  updatedAt       DateTime @updatedAt

  @@map("members")
}

enum UserRole {
  Student
  Professor 
}

enum Status {
  Pending
  Approved
  Reject 
}

  